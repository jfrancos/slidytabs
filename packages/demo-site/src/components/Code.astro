---
import { codeToHtml, type BundledLanguage } from "shiki";

interface Props {
  code: string;
  highlight: unknown;
  lang: BundledLanguage;
}
const { code, highlight, lang } = Astro.props;

const html = codeToHtml(code, {
  lang,
  theme: "github-light",
  decorations: highlight.map((item) => ({
    ...item,
    properties: { class: "highlight" },
  })),
});
---

<div
  set:html={html}
  class="children:(text-sm px-6 py-5 !bg-neutral-100 overflow-scroll)"
/>
