---
import { Code } from "astro:components";
import CustomCode from "@/components/Code.astro";
import SelectFramework from "@/components/SelectFramework.astro";
// import Demo from "@/components/Demo.astro";
import Demos from "@/components/Demos.astro";
import { icons } from "@/lib/utils";
import JSX from "@/components/InlineJSX.astro";
import sampleImports from "@/sample-code/imports?raw";
import sampleInstall from "@/sample-code/install.sh?raw";
const { github } = icons;
---

<html lang="en" class="h-screen">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content={Astro.generator} />
    <title>slidytabs</title>
  </head>
  <body class="flex flex-col h-screen bg-white">
    <div class="px-8 py-6 bg-neutral-200 color-neutral-700 flex flex-col gap-2">
      <div class="flex justify-between .h-9">
        <div class="font-semibold color-pink-700 .tracking-wide text-3xl">
          slidytabs
        </div>
        <div class="flex items-center gap-8 h-9">
          <a
            href="https://github.com/jfrancos/slidytabs"
            class="hover:bg-neutral-300 p-2 -m-2 rounded-full transition-colors"
            target="_blank"
            rel="noreferer"
          >
            <div class:list={[github, ".text-lg"]}></div>
          </a>
        </div>
      </div>
      <div class="text-balance">
        A DOM-level utility for animating <span class="font-semibold"
          >shadcn</span
        >&ensp;
        <Code
          code="<Tabs />"
          lang="jsx"
          theme="github-light"
          class="text-xs text-nowrap inline p-1 -m-1 rounded-sm"
        />
      </div>
    </div>

    <div class="flex flex-col gap-8 py-6 mx-auto w-full max-w-217 px-12">
      <div class="flex flex-col gap-3">
        <h1 class="text-2xl font-bold">Install</h1>
        <!-- TODO not children: -->
        <CustomCode
          lineNumbers={false}
          code={sampleInstall}
          lang="bash"
          class="children:rounded"
        />
      </div>
      <div class="flex flex-col gap-3">
        <h1 class="text-2xl font-bold">API</h1>
        <!-- TODO not children: -->
        <CustomCode
          lineNumbers={false}
          code={sampleImports}
          lang="ts"
          class="children:rounded"
        />
      </div>
      <div class="flex flex-col gap-6">
        <div class="flex gap-4 items-baseline justify-between">
          <h1 class="text-2xl font-bold">Make tabs slide</h1>
          <JSX heading code='import { tabs } from "slidytabs";' />
        </div>
        <Demos filename="Tabs">
          Use <JSX code="shadcn" /> Tabs the way you normally would, and let your
          framework pass the root <JSX code="Tabs" /> element to <JSX
            code="slidytabs"
          />.
        </Demos>
        <Demos filename="ShadcnControlled">
          You can control the value via the usual <JSX code="shadcn" /> props.
        </Demos>
        <Demos filename="SlidytabsControlled">
          Alternatively, with <JSX code="slidytabs" />, you can control it using
          indices. Setting <JSX code="defaultValue" /> helps avoid a flash during
          hydration.
        </Demos>
      </div>
      <div class="flex flex-col gap-6">
        <div class="flex gap-4 items-baseline justify-between">
          <h1 class="text-2xl font-bold">Make tabs a slider</h1>
          <JSX heading code='import { slider } from "slidytabs";' />
        </div>
        <Demos filename="Slider">
          Same usage as above, with drag support. This example goes deeper into
          controlled usage and explores a customized styling.
        </Demos>
        <Demos filename="Sticky">
          The <JSX code="sticky" /> param lets you define a permanent endpoint, while
          still passing around a single index. You can control the value via the usual
        </Demos>
        <Demos filename="Vertical"> A vertical example </Demos>
      </div>
      <div class="flex flex-col gap-6">
        <div class="flex gap-4 items-baseline justify-between">
          <h1 class="text-2xl font-bold">Make tabs a rangeslider</h1>
          <JSX heading code='import { range } from "slidytabs";' />
        </div>
        <Demos filename="Range">
          Similar usage as above, but now we're passing around tuples (<JSX
            code="[number, number]"
          />).
        </Demos>
        <Demos filename="Push">
          Use <JSX code="push" /> to let one endpoint push the other.
        </Demos>
      </div>
    </div>
  </body>
</html>

<!-- <div class="flex flex-col gap-6">
        <div>
          <h1 class="text-2xl font-bold">Make tabs slide</h1>
          <div class="w-full flex flex-col gap-6">
            <Demos filename="Tabs"
              ><div>
                Use shadcn Tabs as usual, and pass <Code
                  code="tabs()"
                  lang="ts"
                  theme="github-light"
                  class="text-sm text-nowrap inline-flex p-1 -my-1 mx-1 rounded-sm !bg-neutral-100"
                /> to the root ref.
              </div></Demos
            >
            <Demos filename="ShadControlled">
              For more control, use <a
                class="inline-flex underline"
                href="https://www.radix-ui.com/primitives/docs/components/tabs#api-reference"
                >radix props</a
              > as usual.
            </Demos>
            <Demos filename="TabsControlled">
              Alternatively, control with indices via slidytabs
            </Demos>
          </div>
        </div>
        <div>
          <h1 class="text-2xl font-bold">Make tabs a slider</h1>
          <div class="w-full flex flex-col gap-6">
            <Demos filename="DoubleSliders"
              >Looks like tabs, feels like a slider</Demos
            >
          </div>
        </div>
        <div>
          <h1 class="text-2xl font-bold">Make tabs a slider</h1>
          <div class="w-full flex flex-col gap-6">
            <Demos filename="DoubleSliders"
              >Looks like tabs, feels like a slider</Demos
            >
          </div>
        </div>
        <div>
          <h1 class="text-2xl font-bold">Make tabs a range slider</h1>
          <div class="w-full flex flex-col gap-6">
            <Demos filename="NumbersRange"
              >Looks like tabs, feels like a range slider</Demos
            >
          </div>
        </div>
      </div> -->

<!-- <div class="flex-1">
        <div class="flex justify-center items-center flex-col gap-6 py-6">
          <a
            rel="noopener"
            target="_blank"
            class="font-medium underline"
            href="https://ui.shadcn.com/docs/components/tabs">shadcn</a
          ><div class="flex flex-col gap-12">
            <Demo lang="tsx" filename="NumbersRange" />
            <Demos filename="Tabs" />
          </div>
        </div>
      </div> -->
<!-- <div class="flex-1 pb-6">
        <div class="flex justify-center items-center flex-col gap-6 py-6">
          <a
            rel="noopener"
            target="_blank"
            class="font-medium underline"
            href="https://www.shadcn-svelte.com/docs/components/tabs"
            >shadcn-svelte</a
          ><div class="flex flex-col gap-12">
            <Demos filename="Tabs">
              Some text. There's a sentence here probably.</Demos
            >
            <Demos filename="VerticalTabs">This text is probably okay too</Demos
            >
            <Demos filename="UncontrolledSlider" />
            <Demos filename="ControlledSlider" />
            <Demos filename="HalfControlledSlider" />
            <Demos filename="FrozenControlledSlider" />
            <Demos filename="RangeSlider" />
          </div>
        </div>
      </div> -->
<!-- <div class="2xl:block bg-white flex-1 shadow-xl hidden">
        <div class="flex justify-center items-center flex-col gap-6 py-6">
          <a
            rel="noopener"
            target="_blank"
            class="font-medium underline"
            href="https://ui.shadcn.com/docs/components/tabs">shadcn</a
          ><div class="flex flex-col gap-12">
            <Demo lang="tsx" filename="NumbersRange" />
            <Demos filename="Tabs" />
          </div>
        </div>
      </div> -->

<!-- 
<script>
  import { frameworkAtom, frameworks } from "../lib/store";

  frameworkAtom.subscribe((newFramework) => {
    for (const framework of frameworks) {
      const docs = [
        ...document.querySelectorAll(`[data-docs="${framework}"]`),
      ] as HTMLElement[];
      for (const doc of docs) {
        framework === newFramework
          ? doc.classList?.remove("hidden")
          : doc.classList?.add("hidden");
      }
    }
  });
</script> -->

<!-- individual trigger classes
focus for unreachable tabs -->
