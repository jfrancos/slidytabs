---
import SvelteDemo from "../components/svelte/demo.svelte";
import ReactDemo from "../components/react/demo";
import Toggle from "../components/svelte/toggle.svelte";
import AstroLogo from "../assets/astro-logo-dark.svg";
---

<html lang="en" class="h-full">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>slidytabs</title>
  </head>
  <body class="flex flex-col h-full bg-neutral-200 .gap-4 .sm:gap-0 .pt-6">
    <div class="px-8 py-6 color-neutral-700 flex flex-col gap-1">
      <div class="font-bold color-pink-700 tracking-wide text-2xl">
        slidytabs
      </div>
      <div class="font-medium">
        dead simple utility for animating shadcn&MediumSpace;
        <span
          class="font-mono font-semibold px-2 py-1 rounded text-xs bg-white color-sky-700 text-nowrap"
        >
          {"<Tabs />"}
        </span>
      </div>
      <div class="text-sm color-neutral-700">
        multi-framework demo powered by<AstroLogo class="w-18 h-auto inline" />
      </div>
    </div>
    <div class="flex flex-col h-full gap-4">
      <Toggle client:load />
      <div
        class="flex *:flex-1 gap-8 *:bg-white *:shadow-xl h-full *:first:rounded-tr-xl *:last:rounded-tl-xl"
      >
        <div id="svelte-demo" class="sm:block">
          <SvelteDemo client:load />
        </div>
        <div id="react-demo" class="sm:block">
          <ReactDemo client:load />
        </div>
      </div>
    </div>
  </body>
</html>

<script>
  import { $framework } from "../lib/store";

  $framework.subscribe((framework) => {
    if (framework === "react") {
      document.getElementById("svelte-demo")?.classList.add("hidden");
      document.getElementById("react-demo")?.classList.remove("hidden");
    } else {
      document.getElementById("react-demo")?.classList.add("hidden");
      document.getElementById("svelte-demo")?.classList.remove("hidden");
    }
  });
</script>

<!-- linear-gradient(to bottom, transparent, var(--sk-bg-1)), radial-gradient(circle at 40% 30%, #ebf3f9, #d6dee4) -->
